一看到「数组」这个名字，感觉有一点高大上，那数组到底是什么呢？假设现在你是 XX 小学编程社团课的老师，班上总共有 40 个学生，期末考试后每个学生都会有一个成绩。我们可以用变量`a`来存第一个学生的成绩；变量`b`来存第二个学生的成绩......

仔细想一下会发现每个学生的编程课成绩就是一个数字，如果给每个学生都分配一个整数类型的变量存储成绩，可能得把写程序的小哥哥累死。那么有没有更经济实惠一点的办法呢？比如只需要写很简短的代码，程序就能自动的帮助我们准备好很多可以存放数字的变量。数组就具备这样的魔力。

大家平时都住过酒店，酒店里面每个房间配置大小都是一样的，每一个房间门上面都有一个编号，要找具体的人只需要找到对应的房号就行了。数组的也和酒店的样子非常想像，下图所示就是用数组存储的编程社团 40 个同学的成绩。

![数组](https://raw.githubusercontent.com/Guanngxu/cpp_teaching/main/img/array/1.png)

可以看到每一个房间里面都住着一个数字，这个数字就代表着一位同学的成绩，每一个房间也都有一个唯一的编号。第一个房间的编号是 0；第二个房间的编号是 1，以此类推第 40 个房间的编号即为 39。我们可以先看如下的代码：

```cpp
int a[40] = {0};
a[0] = 98;
a[1] = 72;
a[39] = 93;
cout<<a[1]<<endl;
```

可以发现声明一个数组的方法非常简单，就是在变量名后面添加一个中括号`[]`，并且在括号中写上一个数字，这个数字所表示的意思即让电脑给我们分配多少个房间，而变量名我们现在应该将其称为数组名。电脑给我们分配的房间是连在一起的，所以只要知道变量名了就能知道能访问到所有元素，就想你知道酒店的地址了，那么这个酒店的所有房间都能找到。

因为数组元素在内存中是彼此紧挨着的，所以数组最大的优势就是可以进行**随机存取**。随机存取是什么意思呢？我们可以把它分成「随机存」和「随机取」，但是问题又来了，随机又是什么意思呢？

随机的意思就是可以在有效范围内可以任意挑选，比如前文 a 数组存了 40 个同学的成绩，我们可以随便挑选第 24 个、第 38 个同学，而且只需要花 O(1) 的时间就能做到。代码中`a[39] = 93`即随机存，即直接对指定位置的元素进行更新。代码中`cout<<a[1]<<endl;`即随机取，即直接访问指定位置的元素。

简单的总结一下，数组在一开始就已经分配好大小了，每个元素的使用方法和变量是一样的。使用数组可以快速创建很多相同类型的变量，并且这些变量在内存中是连续存放的，每一个变量都拥有一个属于自己且独一无二的编号，这个编号是从 0 开始的，所以修改数组和访问数组的元素都只需要 O(1) 的时间。

但如果要删除数组中的某个元素，则被删除元素后面的所有元素都需要向前挪动一个位置，这样才能保证数组的基本特性。同理在数组中插入元素也需要挪动元素位置，所以数组的删除和插入都需要花 O(n) 的时间，下面是数组插入和删除元素的代码。

```cpp
// 在指定位置插入元素
int insert(int a[], int len, int target, int pos){
    if(pos >= len || pos < 0) {
        return -1;
    }
    for(int i = len-1, i > pos; i--) {
        a[i] = a[i-1];
    }
    a[pos] = target;
}

// 删除指定位置元素
int delete(int a[], int len, int pos) {
    if(pos >= len || pos < 0) {
        return -1;
    }
    for(int i = pos, i < len-1; i++) {
        a[i] = a[i+1];
    }
    return 0;
}
```